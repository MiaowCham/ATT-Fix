import{c as At,a as ve,r as pn,b as yn,s as Oe,d as Ee,e as We,u as Et,f as Q,g as Ce,l as Qe,h as Jt,i as vn,j as wn,k as u,R as Ct,n as ct,v as bn,m as K,T as le,t as at,o as ze,p as Ft,q as Tn,S as xn,w as Ln,x as Qt,y as dt,z as St,A as it,B as Ut,C as Ue,D as It,E as Xt,F as _n,__tla as jn}from"./index-sEXYAZOe.js";let Rt,An=Promise.all([(()=>{try{return jn}catch{}})()]).then(async()=>{const ut=At("AddFilled","1em",["M10 2.25c.41 0 .75.34.75.75v6.25H17a.75.75 0 0 1 0 1.5h-6.25V17a.75.75 0 0 1-1.5 0v-6.25H3a.75.75 0 0 1 0-1.5h6.25V3c0-.41.34-.75.75-.75Z"]),er=At("TextAlignRightFilled","1em",["M6 4.25c0-.41.34-.75.75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 4.25Zm-4 5c0-.41.34-.75.75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.25Zm7.75 4.25a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Z"]),tr=At("VideoBackgroundEffectFilled","1em",["M6.2 4 2 8.2V6.8L4.8 4h1.4Zm7 0-1.46 1.46a3.48 3.48 0 0 0-1.02-.39L11.79 4h1.42Zm-1.08 3.17a2.51 2.51 0 0 0-2.34-1.16 2.5 2.5 0 1 0 2.34 1.16Zm.72-.72c.2.29.37.6.48.94L16.69 4 16.5 4h-1.2l-2.46 2.45ZM7.5 12c-.08 0-.15 0-.22.02A1.5 1.5 0 0 0 6 13.5V16h8v-2.5a1.5 1.5 0 0 0-1.5-1.5h-5Zm5-1c.22 0 .43.03.63.08L18 6.2V5.5c0-.2-.04-.4-.12-.59l-4.5 4.5a3.5 3.5 0 0 1-.93 1.59h.05Zm1.9.88c.23.27.4.58.5.93L18 9.7V8.29l-3.6 3.6ZM15 16v-1.2l3-3v1.4L15.2 16H15Zm-10-.3v-1.4l-1.7 1.69.2.01h1.2l.3-.3Zm1.57-6.48c.08.36.21.7.4 1.02L2.11 15.1A1.5 1.5 0 0 1 2 14.5v-.7l4.57-4.58ZM9.71 4 2 11.7v-1.4L8.3 4h1.4Z"]),Fe=t=>t,mt=t=>({_tag:"Left",value:t}),st=t=>({_tag:"Right",value:t}),rr=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),Nt={dimap:(t,e,r)=>o=>e(r(t(o))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:st(t(e.value)),wander:t=>e=>e.map(t)},nr={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const o=t(e[r]);if(o!=null)return o}}},or={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(o=>{r=r.concat(t(o))}),r}},ht=t=>({dimap:(e,r,o)=>n=>o(e(n)),first:e=>([r,o])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),ft={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},qe=(t,e)=>{const r=e;return r._tag=t,r},kt=t=>(t._removable=!0,t);function F(t,e,r){switch(arguments.length){case 2:{const o=(n,d)=>t(n,e(n,d));return o._tag=ft[t._tag][e._tag],o._removable=e._removable||!1,o}default:{const o=ft[t._tag][e._tag],n=(d,l)=>t(d,e(d,r(d,l)));return n._tag=ft[o][r._tag],n._removable=r._removable||!1,n}}}const ir=qe("Equivalence",(t,e)=>e),lt=(t,e)=>qe("Iso",(r,o)=>r.dimap(t,e,o)),ge=(t,e)=>qe("Lens",(r,o)=>r.dimap(n=>[t(n),n],e,r.first(o))),gt=(t,e)=>qe("Prism",(r,o)=>r.dimap(t,n=>rr(Fe,e,n),r.right(o))),pt=qe("Traversal",(t,e)=>t.dimap(Fe,Fe,t.wander(e))),sr=t=>qe("Getter",(e,r)=>e.dimap(t,Fe,r)),Mt=(t,e,r)=>t(Nt,e)(r),lr=(t,e,r)=>t(Nt,()=>e)(r),cr=(t,e)=>t(ht({}),Fe)(e),ar=(t,e)=>t(ht(nr),Fe)(e),Pt=(t,e)=>t(ht(or),r=>[r])(e),dr=lt(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((o,n)=>o[0]-n[0]),r=[];for(let o=0;o<e.length;++o)(o===e.length-1||e[o][0]!==e[o+1][0])&&r.push(e[o][1]);return r}),Dt=t=>ge(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),ur=t=>ge(e=>{const r={};for(const o of t)r[o]=e[o];return r},([e,r])=>{const o=Object.assign({},r);for(const n of t)delete o[n];return Object.assign(o,e)}),Bt=t=>ge(e=>e[t],([e,r])=>{const o=r.slice();return o[t]=e,o}),yt=Bt(0),vt=t=>gt(e=>t(e)?st(e):mt(e),Fe),Xe=Symbol("__no_match__"),zt=vt(t=>t!==Xe),Gt=Symbol("__remove_me__"),wt=t=>kt(F(ge(e=>0<=t&&t<e.length?e[t]:Xe,([e,r])=>{if(e===Xe)return r;if(e===Gt)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const o=r.slice();return o[t]=e,o}}),zt)),mr=gt(t=>t===void 0?mt(void 0):st(t),Fe),hr=t=>gt(e=>t(e)?st(e):mt(e),Fe),fr=t=>kt(F(ge(e=>{const r=e.findIndex(t);return r===-1?[Xe,-1]:[e[r],r]},([[e,r],o])=>{if(e===Xe)return o;if(e===Gt)return[...o.slice(0,r),...o.slice(r+1)];const n=o.slice();return n[r]=e,n}),yt,zt)),gr=t=>F(ge(e=>{const r=e.map((o,n)=>t(o)?n:null).filter(o=>o!=null);return[r.map(o=>e[o]),r]},([[e,r],o])=>{const n=o.length,d=e.length;let l=0,g=0,c=0;const f=[];for(;l<n;)r[g]===l?(++g,c<d&&(f.push(e[c]),++c)):f.push(o[l]),++l;for(;c<d;)f.push(e[c++]);return f}),yt),pr=t=>ge(e=>e===void 0?t:e,([e,r])=>e),yr=t=>F(ge(e=>{const r=Pt(t,e);return[r,r.length]},([[e,r],o])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let n=0;return Mt(t,()=>e[n++],o)}),yt),vr=t=>ge(e=>t(e),([e,r])=>e),wr=t=>ge(e=>e,([e,r])=>t(e)),br=ge(t=>{},([t,e])=>t===void 0?e:[t,...e]),Tr=ge(t=>{},([t,e])=>t===void 0?e:[...e,t]),xr=F(lt(t=>t.split(""),t=>t.join("")),pt),Lr=F(lt(t=>t.split(/\b/),t=>t.join("")),pt,vt(t=>!/\s+/.test(t)));class P{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new P(F(this._ref,e._ref))}iso(e,r){return new P(F(this._ref,lt(e,r)))}lens(e,r){return new P(F(this._ref,ge(e,([o,n])=>r(n,o))))}indexed(){return new P(F(this._ref,dr))}prop(e){return new P(F(this._ref,Dt(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new P(e.reduce((r,o)=>F(r,Dt(o)),this._ref))}pick(e){return new P(F(this._ref,ur(e)))}nth(e){return new P(F(this._ref,Bt(e)))}filter(e){return new P(F(this._ref,gr(e)))}valueOr(e){return new P(F(this._ref,pr(e)))}partsOf(e){const r=typeof e=="function"?e(Vt):e;return new P(F(this._ref,yr(r._ref)))}reread(e){return new P(F(this._ref,vr(e)))}rewrite(e){return new P(F(this._ref,wr(e)))}optional(){return new P(F(this._ref,mr))}guard_(){return e=>this.guard(e)}guard(e){return new P(F(this._ref,hr(e)))}at(e){return new P(F(this._ref,wt(e)))}head(){return new P(F(this._ref,wt(0)))}index(e){return new P(F(this._ref,wt(e)))}find(e){return new P(F(this._ref,fr(e)))}elems(){return new P(F(this._ref,pt))}to(e){return new P(F(this._ref,sr(e)))}when(e){return new P(F(this._ref,vt(e)))}chars(){return new P(F(this._ref,xr))}words(){return new P(F(this._ref,Lr))}prependTo(){return new P(F(this._ref,br))}appendTo(){return new P(F(this._ref,Tr))}}const Vt=new P(ir);function _r(){return Vt}function jr(t){return e=>cr(t._ref,e)}function Ar(t){return e=>ar(t._ref,e)}function Er(t){return e=>Pt(t._ref,e)}function Cr(t){return e=>r=>Mt(t._ref,e,r)}function Fr(t){return e=>r=>lr(t._ref,e,r)}const Zt=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),Sr=new WeakMap,Ir=(t,e,r)=>{const o=Zt(()=>new WeakMap,Sr,e);return Zt(t,o,r)},Rr=t=>typeof t=="function";function Nr(t,e){return Ir(()=>{const r=e(_r());return ve(o=>{const n=o(t);return n instanceof Promise?n.then(d=>Ot(r,d)):Ot(r,n)},(o,n,d)=>{const l=Rr(d)?Cr(r)(d):Fr(r)(d),g=o(t);return n(t,g instanceof Promise?g.then(l):l(g))})},t,e)}const Ot=(t,e)=>t._tag==="Traversal"?Er(t)(e):t._tag==="Prism"?Ar(t)(e):jr(t)(e);var et={},Wt;function kr(){if(Wt)return et;Wt=1,Object.defineProperty(et,"__esModule",{value:!0}),et.ViewportList=void 0;const t=pn(),e=yn(),r=typeof window>"u",o=!r&&(()=>{try{return"ontouchstart"in window||navigator.maxTouchPoints}catch{return!1}})(),n=!r&&(()=>{try{return window.CSS.supports("overflow-anchor: auto")}catch{return!1}})(),d=o&&!n,l={top:"top",bottom:"bottom",clientHeight:"clientHeight",scrollHeight:"scrollHeight",scrollTop:"scrollTop",overflowY:"overflowY",height:"height",minHeight:"minHeight",maxHeight:"maxHeight",marginTop:"marginTop"},g={top:"left",bottom:"right",scrollHeight:"scrollWidth",clientHeight:"clientWidth",scrollTop:"scrollLeft",overflowY:"overflowX",minHeight:"minWidth",height:"width",maxHeight:"maxWidth",marginTop:"marginLeft"},c=(a,m,E=1/0)=>Math.max(Math.min(m,E),a),f=(a,m,E)=>Math.ceil(Math.abs(a-m)/E),S=r?e.useEffect:e.useLayoutEffect,I=(a,m,E)=>{const D=[];for(let $=a;$<m;$++)D.push(E($));return D},T=({fromElement:a,toElement:m,fromIndex:E,asc:D=!0,compare:$})=>{let x=E,V=a;for(;V&&V!==m;){if($(V,x))return[V,x];D?(x++,V=V.nextSibling):(x--,V=V.previousSibling)}return[null,-1]},A=/auto|scroll/gi,L=(a,m)=>{if(!m||m===document.body||m===document.documentElement)return document.documentElement;const E=window.getComputedStyle(m);return A.test(E[a.overflowY])||A.test(E.overflow)?m:L(a,m.parentNode)},_=(a,m,E=0)=>({padding:0,margin:0,border:"none",visibility:"hidden",overflowAnchor:"none",[a.minHeight]:m,[a.height]:m,[a.maxHeight]:m,[a.marginTop]:E}),j=({items:a=[],count:m,children:E,viewportRef:D,itemSize:$=0,itemMargin:x=-1,overscan:V=1,axis:Y="y",initialIndex:W=-1,initialAlignToTop:ne=!0,initialOffset:y=0,initialDelay:p=-1,initialPrerender:Z=0,onViewportIndexesChange:B,overflowAnchor:H="auto",withCache:z=!0,scrollThreshold:oe=0,renderSpacer:ie=({ref:i,style:ee})=>(0,t.jsx)("div",{ref:i,style:ee}),indexesShift:X=0,getItemBoundingClientRect:w=i=>i.getBoundingClientRect()},ue)=>{const i=Y==="y"?l:g,ee=typeof m=="number",U=(ee?m:a.length)-1,[[se,Le],He]=(0,e.useState)(()=>[c(0,$),c(-1,x)]),me=c(0,se+Le),Se=c(0,Math.ceil(V*me)),[te,Ie]=(0,e.useState)([W-Z,W+Z]),_e=(0,e.useRef)(null),Ae=(0,e.useRef)(-1),he=(0,e.useRef)(null),ke=(0,e.useRef)(null),Ge=(0,e.useRef)(!1),Re=(0,e.useRef)(X),we=(0,e.useRef)([]),de=(0,e.useRef)(W>=0?{index:W,alignToTop:ne,offset:y,delay:p,prerender:Z}:null),be=(0,e.useRef)(null),ce=(0,e.useRef)(0),je=(0,e.useRef)([-1,-1]),Te=(0,e.useRef)(null),[N,J]=(0,e.useMemo)(()=>{te[0]=c(0,te[0],U),te[1]=c(te[0],te[1],U);const s=X-Re.current;Re.current=X;const b=he.current;return b&&s&&(te[0]=c(0,te[0]+s,U),te[1]=c(te[0],te[1]+s,U),_e.current=b.nextSibling,Ae.current=te[0],Ge.current=!0),te},[X,te,U]),Me=(0,e.useMemo)(()=>_(i,(z?we.current:[]).slice(0,N).reduce((s,b)=>s+(b-se),N*me),ce.current),[i,z,N,me,se]),Pe=(0,e.useMemo)(()=>_(i,(z?we.current:[]).slice(J+1,U+1).reduce((s,b)=>s+(b-se),me*(U-J))),[i,z,J,U,me,se]),pe=(0,e.useMemo)(()=>{let s=null;return()=>{if(D)return D.current===document.body?document.documentElement:D.current;if(s&&s.isConnected)return s;const b=he.current;return b?(s=L(i,b.parentNode),s):null}},[i,D]),De=(0,e.useRef)(()=>{}),h=(0,e.useRef)(()=>({index:-1,offset:0}));S(()=>{De.current=()=>{const s=pe(),b=he.current,R=ke.current;if(!s||!b||!R)return;const C=b.nextSibling,G=R.previousSibling,fe=s.getBoundingClientRect(),q=b.getBoundingClientRect(),M=R.getBoundingClientRect(),ye={[i.top]:s===document.documentElement?0:fe[i.top],[i.bottom]:s===document.documentElement?document.documentElement[i.clientHeight]:fe[i.bottom]},re={[i.top]:ye[i.top]-Se,[i.bottom]:ye[i.bottom]+Se};if(ce.current<0&&q[i.top]-ce.current>=re[i.top]||ce.current>0&&q[i.top]>=re[i.top]||ce.current&&de.current){b.style[i.marginTop]="0px",s.style[i.overflowY]="hidden",s[i.scrollTop]+=-ce.current,s.style[i.overflowY]="",ce.current=0;return}if(se===0||Le===-1){let O=0;if(T({fromElement:C,toElement:R,fromIndex:N,compare:Ze=>(O+=w(Ze)[i.height],!1)}),!O)return;const ae=J-N+1,Ne=se===0?Math.ceil(O/ae):se,Ve=Le===-1?Math.ceil((M[i.top]-q[i.bottom]-O)/ae):Le;He([Ne,Ve]);return}if(be.current)return;if(de.current){const O=c(0,de.current.index,U);if(O<N||O>J){Ie([O-de.current.prerender,O+de.current.prerender]);return}const[ae]=T({fromElement:C,toElement:R,fromIndex:N,compare:(_t,jt)=>jt===O});if(!ae)return;const{alignToTop:Ne,offset:Ve,delay:Ze}=de.current;de.current=null;const Kt=()=>{const _t=w(ae),jt=Ne?_t[i.top]-ye[i.top]+Ve:_t[i.bottom]-ye[i.top]-s[i.clientHeight]+Ve;s[i.scrollTop]+=jt,be.current=null},Ht=Ze<0&&d?30:Ze;if(Ht>0){be.current=setTimeout(Kt,Ht);return}Kt();return}if(Te.current===null)Te.current=s.scrollTop;else if(Te.current!==s.scrollTop){const O=Math.abs(s.scrollTop-Te.current);if(Te.current=s.scrollTop,oe>0&&O>oe)return}const rt=C===R?R:C.nextSibling,Yt=G===b?b:G.previousSibling,Je=Math.ceil((M[i.top]-q[i.bottom])/(J+1-N)),nt=q[i.bottom]>re[i.bottom],ot=M[i.top]<re[i.top],mn=!nt&&!ot&&q[i.bottom]>re[i.top],hn=!nt&&!ot&&M[i.top]<re[i.bottom],fn=!nt&&!ot&&(Yt===b?q:w(Yt))[i.bottom]>re[i.bottom],gn=!nt&&!ot&&(rt===R?M:w(rt))[i.top]<re[i.top];let xe=N,Be=J;if(nt&&(xe-=f(q[i.bottom],re[i.top],Je),Be-=f(M[i.top],re[i.bottom],Je)),ot&&(Be+=f(M[i.top],re[i.bottom],Je),xe+=f(q[i.bottom],re[i.top],Je)),mn&&(xe-=f(q[i.bottom],re[i.top],Je)),hn&&(Be+=f(M[i.top],re[i.bottom],Je)),fn){const[,O]=T({fromElement:G,toElement:b,fromIndex:J,asc:!1,compare:ae=>w(ae)[i.bottom]<=re[i.bottom]});O!==-1&&(Be=O+1)}if(gn){const[,O]=T({fromElement:C,toElement:R,fromIndex:N,compare:ae=>w(ae)[i.top]>=re[i.top]});O!==-1&&(xe=O-1)}if(B){let[,O]=T({fromElement:C,toElement:R,fromIndex:N,compare:Ne=>w(Ne)[i.bottom]>ye[i.top]});O===-1&&(O=N);let[,ae]=T({fromElement:G,toElement:b,fromIndex:J,asc:!1,compare:Ne=>w(Ne)[i.top]<ye[i.bottom]});ae===-1&&(ae=J),(O!==je.current[0]||ae!==je.current[1])&&(je.current=[O,ae],B(je.current))}if(xe=c(0,xe,U),Be=c(xe,Be,U),!(xe===N&&Be===J)){if(xe!==N)if(N>=xe)_e.current=C,Ae.current=N;else{const[O,ae]=T({fromElement:C,toElement:R,fromIndex:N,compare:(Ne,Ve)=>{if(Ve===xe)return!0;const Ze=w(Ne);return Ze[i.height]!==se&&(we.current[Ve]=Ze[i.height]),!1}});O?(_e.current=O,Ae.current=ae):(_e.current=G,Ae.current=J)}Ie([xe,Be])}},h.current=()=>{const s=pe(),b=he.current,R=ke.current;let C=-1,G=0;if(!s||!b||!R)return{index:C,offset:G};const fe=b.nextSibling,q=s.getBoundingClientRect(),M={[i.top]:s===document.documentElement?0:q[i.top],[i.bottom]:s===document.documentElement?document.documentElement[i.clientHeight]:q[i.bottom]};return T({fromElement:fe,toElement:R,fromIndex:N,compare:(ye,re)=>{const rt=w(ye);return C=re,G=M[i.top]-rt[i.top],rt[i.bottom]>M[i.top]}}),{index:C,offset:G}}});let k;return _e.current&&pe()&&he.current&&(k=w(_e.current)[i.top]-(pe()===document.documentElement?0:pe().getBoundingClientRect()[i.top])),S(()=>{_e.current=null;const s=Ae.current,b=Ge.current;Ae.current=-1,Ge.current=!1;const R=pe(),C=he.current,G=ke.current;if(s===-1||!R||!C||!G||k===void 0||n&&H!=="none"&&!b)return;let fe=null;if(s>=N&&s<=J){const[M]=T({fromElement:C.nextSibling,toElement:G,fromIndex:N,compare:(ye,re)=>re===s});M&&(fe=w(M)[i.top])}else s<N?fe=C.getBoundingClientRect()[i.top]+(z?we.current:[]).slice(0,s).reduce((M,ye)=>M+(ye-se),s*me):s<=U&&(fe=G.getBoundingClientRect()[i.top]+(z?we.current:[]).slice(J+1,s).reduce((M,ye)=>M+(ye-se),me*(s-1-J)));if(fe===null)return;const q=fe-(R===document.documentElement?0:R.getBoundingClientRect()[i.top])-k;if(q){if(o){ce.current-=q,C.style[i.marginTop]=`${ce.current}px`;return}R[i.scrollTop]+=q}},[N]),S(()=>{let s;const b=()=>{s=requestAnimationFrame(b),De.current()};return b(),()=>{cancelAnimationFrame(s),be.current&&clearTimeout(be.current)}},[]),(0,e.useImperativeHandle)(ue,()=>({scrollToIndex:({index:s=-1,alignToTop:b=!0,offset:R=0,delay:C=-1,prerender:G=0})=>{de.current={index:s,alignToTop:b,offset:R,delay:C,prerender:G},De.current()},getScrollPosition:()=>h.current()}),[]),(0,t.jsxs)(e.Fragment,{children:[ie({ref:he,style:Me,type:"top"}),(!!m||!!a.length)&&I(N,J+1,ee?E:s=>E(a[s],s,a)),ie({ref:ke,style:Pe,type:"bottom"})]})};return et.ViewportList=(0,e.forwardRef)(j),et}var Mr=kr();globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}},globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const $e=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-line-view-states.ts/draggingIdAtom",ve(""));$e.debugLabel="draggingIdAtom",$e.debugLabel="draggingIdAtom";const Pr="_lyricWord_ryj87_11",Dr="_edit_ryj87_12",Br="_sync_ryj87_19",zr="_dropLeft_ryj87_26",Gr="_dropRight_ryj87_29",Vr="_displayWord_ryj87_33",Zr="_startTime_ryj87_36",Or="_endTime_ryj87_37",Wr="_lyricLine_ryj87_62",qr="_dropTop_ryj87_67",$r="_dropBottom_ryj87_70",Yr="_ignoreSync_ryj87_73",Kr="_insertWordField_ryj87_82",Hr="_empty_ryj87_93",Jr="_lyricLineContainer_ryj87_97",Qr="_lyricWordsContainer_ryj87_107",Ur="_blank_ryj87_129",Xr="_selected_ryj87_137",en="_active_ryj87_158",v={lyricWord:Pr,edit:Dr,sync:Br,dropLeft:zr,dropRight:Gr,displayWord:Vr,startTime:Zr,endTime:Or,lyricLine:Wr,dropTop:qr,dropBottom:$r,ignoreSync:Yr,insertWordField:Kr,empty:Hr,lyricLineContainer:Jr,lyricWordsContainer:Qr,blank:Ur,selected:Xr,active:en};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}},globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const bt=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-word-menu.tsx/selectedLinesSizeAtom",ve(t=>t(Oe).size));bt.debugLabel="selectedLinesSizeAtom",bt.debugLabel="selectedLinesSizeAtom";const Tt=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-word-menu.tsx/selectedWordsSizeAtom",ve(t=>t(Ee).size));Tt.debugLabel="selectedWordsSizeAtom",Tt.debugLabel="selectedWordsSizeAtom";const tn=t=>{const e=We.c(27),{wordIndex:r,wordAtom:o,lineIndex:n}=t,d=Et(),l=Q(Tt),g=Q(bt),c=Ce(Qe),f=Jt(vn),S=Q(o),I=Jt(wn),T=l===0;let A;e[0]!==c||e[1]!==d?(A=()=>{c(x=>{const V=d.get(Ee);for(const Y of x.lyricLines)Y.words=Y.words.filter(W=>!V.has(W.id))})},e[0]=c,e[1]=d,e[2]=A):A=e[2];let L;e[3]!==T||e[4]!==A?(L=u.jsx(Ct,{disabled:T,onClick:A,children:"\u5220\u9664\u6240\u9009\u5355\u8BCD"}),e[3]=T,e[4]=A,e[5]=L):L=e[5];const _=l!==1;let j;e[6]!==n||e[7]!==f||e[8]!==I||e[9]!==S.word||e[10]!==r?(j=()=>{I({wordIndex:r,lineIndex:n,word:S.word}),f(!0)},e[6]=n,e[7]=f,e[8]=I,e[9]=S.word,e[10]=r,e[11]=j):j=e[11];let a;e[12]!==_||e[13]!==j?(a=u.jsx(Ct,{disabled:_,onClick:j,children:"\u62C6\u5206\u6B64\u5355\u8BCD/\u5728\u6B64\u5904\u66FF\u6362\u5355\u8BCD"}),e[12]=_,e[13]=j,e[14]=a):a=e[14];const m=!(l>1&&g===1);let E;e[15]!==c||e[16]!==n||e[17]!==d||e[18]!==r?(E=()=>{c(x=>{const V=d.get(Ee),Y=x.lyricLines[n];if(Y){let W=-1,ne="";for(const p of Y.words)V.has(p.id)&&(ne=ne+p.word,W===-1&&(W=Y.words.indexOf(p)));const y=ct();y.word=ne,y.startTime=Y.words[r].startTime,x.lyricLines[n].words=Y.words.filter(p=>!V.has(p.id)),W!==-1&&x.lyricLines[n].words.splice(W,0,y)}})},e[15]=c,e[16]=n,e[17]=d,e[18]=r,e[19]=E):E=e[19];let D;e[20]!==m||e[21]!==E?(D=u.jsx(Ct,{disabled:m,onClick:E,children:"\u5408\u5E76\u5355\u8BCD"}),e[20]=m,e[21]=E,e[22]=D):D=e[22];let $;return e[23]!==L||e[24]!==a||e[25]!==D?($=u.jsxs(bn,{children:[L,a,D]}),e[23]=L,e[24]=a,e[25]=D,e[26]=$):$=e[26],$};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}},globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Ye=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-word-view.tsx/isDraggingAtom",ve(!1));Ye.debugLabel="isDraggingAtom",Ye.debugLabel="isDraggingAtom";const tt=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-word-view.tsx/draggingIdAtom",ve(""));tt.debugLabel="draggingIdAtom",tt.debugLabel="draggingIdAtom";const xt=t=>{let e;return e=t.length===0||t.length>0&&t.trim().length===0,e},rn=t=>{const e=We.c(27),{wordAtom:r,wordIndex:o,line:n,lineIndex:d}=t,l=Q(r),g=Et(),c=Ce(Qe),f=Ce(Oe);let S,I;e[0]!==r?(I=ve(y=>y(Ee).has(y(r).id)),e[0]=r,e[1]=I):I=e[1],S=I;const T=Q(S),A=Ce(Ee),[L,_]=K.useState(!1),j=Q(at),a=xt(l.word),m=qt(l.word,a);let E;const D=T&&v.selected,$=a&&v.blank;let x;e[2]!==D||e[3]!==$?(x=ze(v.lyricWord,v.edit,D,$),e[2]=D,e[3]=$,e[4]=x):x=e[4],E=x;const V=E;let Y;e[5]!==c||e[6]!==d||e[7]!==l.word||e[8]!==o?(Y=y=>{_(!1);const p=y.currentTarget.value;p!==l.word&&c(Z=>{Z.lyricLines[d].words[o].word=p})},e[5]=c,e[6]=d,e[7]=l.word,e[8]=o,e[9]=Y):Y=e[9];const W=Y;let ne;return e[10]!==V||e[11]!==m||e[12]!==c||e[13]!==L||e[14]!==T||e[15]!==n||e[16]!==d||e[17]!==W||e[18]!==f||e[19]!==A||e[20]!==g||e[21]!==j||e[22]!==l.id||e[23]!==l.word||e[24]!==r||e[25]!==o?(ne=L?u.jsx(Ft,{autoFocus:!0,defaultValue:l.word,onBlur:W,onKeyDown:y=>{y.key==="Enter"&&W(y)}}):u.jsxs(Tn,{onOpenChange:y=>{y&&(T||(A(p=>{p.clear(),p.add(l.id)}),f(p=>{p.clear(),p.add(n.id)})))},children:[u.jsx(xn,{children:u.jsx("span",{draggable:j===le.Edit,onDragStart:y=>{y.dataTransfer.dropEffect="move",g.set(Ye,!0),g.set(tt,l.id),y.stopPropagation()},onDragEnd:()=>{g.set(Ye,!1)},onDragOver:y=>{if(!g.get(Ye)||g.get(tt)===l.id||T)return;y.preventDefault(),y.dataTransfer.dropEffect="move";const p=y.currentTarget.getBoundingClientRect();y.clientX-p.left<p.width/2?(y.currentTarget.classList.add(v.dropLeft),y.currentTarget.classList.remove(v.dropRight)):(y.currentTarget.classList.remove(v.dropLeft),y.currentTarget.classList.add(v.dropRight))},onDrop:y=>{if(y.currentTarget.classList.remove(v.dropLeft),y.currentTarget.classList.remove(v.dropRight),!g.get(Ye))return;const p=y.currentTarget.getBoundingClientRect(),Z=y.clientX-p.left,B=new Set(g.get(Ee)),H=g.get(tt);T||(B.clear(),B.add(H)),Z<p.width/2?c(z=>{const oe=[];for(const w of z.lyricLines){const ue=w.words.filter(i=>B.has(i.id));oe.push(...ue),w.words=w.words.filter(i=>!B.has(i.id))}const ie=z.lyricLines.find(w=>w.id===n.id);if(!ie)return;const X=ie.words.findIndex(w=>w.id===l.id);X<0||ie.words.splice(X,0,...oe)}):c(z=>{const oe=[];for(const w of z.lyricLines){const ue=w.words.filter(i=>B.has(i.id));oe.push(...ue),w.words=w.words.filter(i=>!B.has(i.id))}const ie=z.lyricLines.find(w=>w.id===n.id);if(!ie)return;const X=ie.words.findIndex(w=>w.id===l.id);X<0||ie.words.splice(X+1,0,...oe)})},onDragLeave:sn,className:V,onDoubleClick:()=>{_(!0)},onClick:y=>{y.stopPropagation(),y.preventDefault(),y.ctrlKey||y.metaKey?A(p=>{p.has(l.id)?p.delete(l.id):p.add(l.id)}):y.shiftKey?A(p=>{if(p.size>0){let Z;Z=Number.NaN;let B;B=Number.NaN,n.words.forEach((H,z)=>{p.has(H.id)&&(Number.isNaN(Z)&&(Z=z),Number.isNaN(B)&&(B=z),Z=Math.min(Z,z,o),B=Math.max(B,z,o))});for(let H=Z;H<=B;H++)p.add(n.words[H].id)}else p.add(l.id)}):(f(p=>{(!p.has(n.id)||p.size!==1)&&(p.clear(),p.add(n.id))}),A(p=>{(!p.has(l.id)||p.size!==1)&&(p.clear(),p.add(l.id))}))},children:m})}),u.jsx(tn,{wordAtom:r,wordIndex:o,lineIndex:d})]}),e[10]=V,e[11]=m,e[12]=c,e[13]=L,e[14]=T,e[15]=n,e[16]=d,e[17]=W,e[18]=f,e[19]=A,e[20]=g,e[21]=j,e[22]=l.id,e[23]=l.word,e[24]=r,e[25]=o,e[26]=ne):ne=e[26],ne},nn=t=>{const e=We.c(41),{wordAtom:r,line:o}=t,n=Q(r);let d,l;e[0]!==r?(l=ve(i=>i(Ee).has(i(r).id)),e[0]=r,e[1]=l):l=e[1],d=l;const g=d;let c,f;e[2]!==r?(f=ve(i=>{const ee=i(Ln),U=i(r);return ee>=U.startTime&&ee<U.endTime}),e[2]=r,e[3]=f):f=e[3],c=f;const S=Q(c),I=Q(g),T=Ce(Ee),A=Ce(Oe),L=Q(Qt),_=xt(n.word),j=qt(n.word,_),a=K.useRef(null),m=K.useRef(null);let E;e[4]!==L?(E=()=>{if(!L)return;const i=a.current?.animate([{backgroundColor:"var(--green-a8)"},{backgroundColor:"var(--green-a4)"}],{duration:500});return()=>{i?.cancel()}},e[4]=L,e[5]=E):E=e[5];let D;e[6]!==L||e[7]!==n.startTime?(D=[n.startTime,L],e[6]=L,e[7]=n.startTime,e[8]=D):D=e[8],K.useEffect(E,D);let $;e[9]!==L?($=()=>{if(!L)return;const i=m.current?.animate([{backgroundColor:"var(--red-a8)"},{backgroundColor:"var(--red-a4)"}],{duration:500});return()=>{i?.cancel()}},e[9]=L,e[10]=$):$=e[10];let x;e[11]!==L||e[12]!==n.endTime?(x=[n.endTime,L],e[11]=L,e[12]=n.endTime,e[13]=x):x=e[13],K.useEffect($,x);let V;const Y=I&&v.selected,W=_&&v.blank,ne=S&&v.active;let y;e[14]!==Y||e[15]!==W||e[16]!==ne?(y=ze(v.lyricWord,v.sync,Y,W,ne),e[14]=Y,e[15]=W,e[16]=ne,e[17]=y):y=e[17],V=y;const p=V;let Z;e[18]!==o.id||e[19]!==A||e[20]!==T||e[21]!==n.id?(Z=i=>{i.stopPropagation(),i.preventDefault(),A(ee=>{ee.clear(),ee.add(o.id)}),T(ee=>{ee.clear(),ee.add(n.id)})},e[18]=o.id,e[19]=A,e[20]=T,e[21]=n.id,e[22]=Z):Z=e[22];let B;e[23]===Symbol.for("react.memo_cache_sentinel")?(B=ze(v.startTime),e[23]=B):B=e[23];let H;e[24]!==n.startTime?(H=dt(n.startTime),e[24]=n.startTime,e[25]=H):H=e[25];let z;e[26]!==H?(z=u.jsx("div",{className:B,ref:a,children:H}),e[26]=H,e[27]=z):z=e[27];let oe;e[28]!==j?(oe=u.jsx("div",{className:v.displayWord,children:j}),e[28]=j,e[29]=oe):oe=e[29];let ie;e[30]===Symbol.for("react.memo_cache_sentinel")?(ie=ze(v.endTime),e[30]=ie):ie=e[30];let X;e[31]!==n.endTime?(X=dt(n.endTime),e[31]=n.endTime,e[32]=X):X=e[32];let w;e[33]!==X?(w=u.jsx("div",{className:ie,ref:m,children:X}),e[33]=X,e[34]=w):w=e[34];let ue;return e[35]!==p||e[36]!==Z||e[37]!==z||e[38]!==oe||e[39]!==w?(ue=u.jsxs("div",{className:p,onClick:Z,children:[z,oe,w]}),e[35]=p,e[36]=Z,e[37]=z,e[38]=oe,e[39]=w,e[40]=ue):ue=e[40],ue},qt=(t,e)=>{let r;e:{if(t===""){r="\u7A7A\u767D";break e}if(e){r=`\u7A7A\u683C x${t.length}`;break e}r=t}return r},on=K.memo(t=>{const e=We.c(16),{wordAtom:r,wordIndex:o,line:n,lineIndex:d}=t,l=Q(r),g=Q(at),c=xt(l.word);let f;e[0]!==n||e[1]!==d||e[2]!==g||e[3]!==r||e[4]!==o?(f=g===le.Edit&&u.jsx(rn,{wordAtom:r,line:n,lineIndex:d,wordIndex:o}),e[0]=n,e[1]=d,e[2]=g,e[3]=r,e[4]=o,e[5]=f):f=e[5];let S;e[6]!==c||e[7]!==n||e[8]!==d||e[9]!==g||e[10]!==r||e[11]!==o?(S=g===le.Sync&&!c&&u.jsx(nn,{wordAtom:r,line:n,lineIndex:d,wordIndex:o}),e[6]=c,e[7]=n,e[8]=d,e[9]=g,e[10]=r,e[11]=o,e[12]=S):S=e[12];let I;return e[13]!==f||e[14]!==S?(I=u.jsxs("div",{children:[f,S]}),e[13]=f,e[14]=S,e[15]=I):I=e[15],I});function sn(t){t.currentTarget.classList.remove(v.dropLeft),t.currentTarget.classList.remove(v.dropRight)}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}},globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Ke=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/lyric-line-view.tsx/isDraggingAtom",ve(!1));Ke.debugLabel="isDraggingAtom",Ke.debugLabel="isDraggingAtom";const ln=t=>{const e=We.c(5),{lineAtom:r,wordsContainerRef:o}=t,n=Q(r),d=Q(Ee);let l,g;return e[0]!==n.words||e[1]!==d||e[2]!==o.current?(l=()=>{const c=o.current;if(!c)return;let f=Number.NaN,S=0;for(const T of n.words){if(d.has(T.id)){f=S;break}S++}if(Number.isNaN(f))return;const I=c.children[f];I&&c.scrollTo({left:I.offsetLeft-c.clientWidth/2,behavior:"instant"})},g=[n.words,d,o.current],e[0]=n.words,e[1]=d,e[2]=o.current,e[3]=l,e[4]=g):(l=e[3],g=e[4]),K.useEffect(l,g),null},$t=K.memo(t=>{const e=We.c(15),{lineAtom:r,lineIndex:o,type:n}=t,d=Ce(Qe),l=Q(r),[g,c]=K.useState(!1);let f;e[0]!==d||e[1]!==l||e[2]!==o||e[3]!==n?(f=j=>{c(!1);const a=j.currentTarget.value;a!==l[n]&&d(m=>{m.lyricLines[o][n]=a})},e[0]=d,e[1]=l,e[2]=o,e[3]=n,e[4]=f):f=e[4];const S=f;let I;I=n==="translatedLyric"?"\u7FFB\u8BD1\uFF1A":"\u97F3\u8BD1\uFF1A";const T=I;let A;e[5]!==T?(A=u.jsx(it,{size:"2",children:T}),e[5]=T,e[6]=A):A=e[6];let L;e[7]!==g||e[8]!==l||e[9]!==S||e[10]!==n?(L=g?u.jsx(Ft,{autoFocus:!0,size:"1",defaultValue:l[n],onBlur:S,onKeyDown:j=>{j.key==="Enter"&&S(j)}}):u.jsx(St,{size:"2",color:"gray",variant:"ghost",onClick:j=>{j.stopPropagation(),c(!0)},children:l[n]||u.jsx(it,{color:"gray",children:"\u65E0"})}),e[7]=g,e[8]=l,e[9]=S,e[10]=n,e[11]=L):L=e[11];let _;return e[12]!==A||e[13]!==L?(_=u.jsxs(Ue,{align:"baseline",children:[A,L]}),e[12]=A,e[13]=L,e[14]=_):_=e[14],_}),cn=K.memo(t=>{const e=We.c(130),{lineAtom:r,lineIndex:o}=t,n=Q(r),d=Ce(Oe);let l,g;e[0]!==n.id?(g=h=>h(Oe).has(n.id),e[0]=n.id,e[1]=g):g=e[1];let c;e[2]!==n.id||e[3]!==g?(c=ve(g),e[2]=n.id,e[3]=g,e[4]=c):c=e[4],l=c;const f=l;let S,I;e[5]!==r?(I=Ut(ve(h=>h(r).words)),e[5]=r,e[6]=I):I=e[6],S=I;const T=Q(S),A=Q(f),L=Ce(Ee),_=Ce(Qe),j=Q(Qt),a=Q(at),m=Et(),E=K.useRef(null),D=K.useRef(null),$=K.useRef(null),[x,V]=K.useState(!1);let Y;e[7]!==j?(Y=()=>{if(!j)return;const h=D.current?.animate([{backgroundColor:"var(--green-a8)"},{backgroundColor:"var(--green-a4)"}],{duration:500});return()=>{h?.cancel()}},e[7]=j,e[8]=Y):Y=e[8];let W;e[9]!==n.startTime||e[10]!==j?(W=[n.startTime,j],e[9]=n.startTime,e[10]=j,e[11]=W):W=e[11],K.useEffect(Y,W);let ne,y;e[12]!==a?(ne=()=>{a!==le.Edit&&V(!1)},y=[a],e[12]=a,e[13]=ne,e[14]=y):(ne=e[13],y=e[14]),K.useLayoutEffect(ne,y);let p;e[15]!==j?(p=()=>{if(!j)return;const h=$.current?.animate([{backgroundColor:"var(--red-a8)"},{backgroundColor:"var(--red-a4)"}],{duration:500});return()=>{h?.cancel()}},e[15]=j,e[16]=p):p=e[16];let Z;e[17]!==n.endTime||e[18]!==j?(Z=[n.endTime,j],e[17]=n.endTime,e[18]=j,e[19]=Z):Z=e[19],K.useEffect(p,Z);let B;e[20]!==r?(B=u.jsx(ln,{lineAtom:r,wordsContainerRef:E}),e[20]=r,e[21]=B):B=e[21];let H;e[22]!==_||e[23]!==x||e[24]!==o?(H=x&&u.jsx(St,{mx:"2",my:"1",variant:"soft",size:"1",style:{width:"calc(100% - var(--space-4))"},onClick:()=>{_(h=>{h.lyricLines.splice(o,0,Xt())}),V(!1)},children:"\u5728\u6B64\u63D2\u5165\u65B0\u884C"}),e[22]=_,e[23]=x,e[24]=o,e[25]=H):H=e[25];const z=A&&v.selected,oe=a===le.Sync&&v.sync,ie=a===le.Edit&&v.edit,X=n.ignoreSync&&v.ignoreSync;let w;e[26]!==z||e[27]!==oe||e[28]!==ie||e[29]!==X?(w=ze(v.lyricLine,z,oe,ie,X),e[26]=z,e[27]=oe,e[28]=ie,e[29]=X,e[30]=w):w=e[30];const ue=a===le.Edit;let i;e[31]!==n.id||e[32]!==m?(i=h=>{h.dataTransfer.dropEffect="move",m.set(Ke,!0),m.set($e,n.id)},e[31]=n.id,e[32]=m,e[33]=i):i=e[33];let ee;e[34]!==m?(ee=()=>{m.set(Ke,!1)},e[34]=m,e[35]=ee):ee=e[35];let U;e[36]!==n.id||e[37]!==A||e[38]!==m?(U=h=>{if(!m.get(Ke)||m.get($e)===n.id||A)return;h.preventDefault(),h.dataTransfer.dropEffect="move";const k=h.currentTarget.getBoundingClientRect();h.clientY-k.top<k.height/2?(h.currentTarget.classList.add(v.dropTop),h.currentTarget.classList.remove(v.dropBottom)):(h.currentTarget.classList.remove(v.dropTop),h.currentTarget.classList.add(v.dropBottom))},e[36]=n.id,e[37]=A,e[38]=m,e[39]=U):U=e[39];let se;e[40]!==_||e[41]!==n.id||e[42]!==m?(se=h=>{if(h.currentTarget.classList.remove(v.dropTop),h.currentTarget.classList.remove(v.dropBottom),!m.get(Ke))return;const k=h.currentTarget.getBoundingClientRect(),s=h.clientY-k.top,b=m.get(Oe),R=b.has(m.get($e))?b:new Set([m.get($e)]);s<k.height/2?_(C=>{const G=C.lyricLines.filter(M=>!R.has(M.id)),fe=C.lyricLines.filter(M=>R.has(M.id)),q=G.findIndex(M=>M.id===n.id);q<0||(C.lyricLines=[...G.slice(0,q),...fe,...G.slice(q)])}):_(C=>{const G=C.lyricLines.filter(M=>!R.has(M.id)),fe=C.lyricLines.filter(M=>R.has(M.id)),q=G.findIndex(M=>M.id===n.id);q<0||(C.lyricLines=[...G.slice(0,q+1),...fe,...G.slice(q+2)])})},e[40]=_,e[41]=n.id,e[42]=m,e[43]=se):se=e[43];let Le;e[44]!==n.id||e[45]!==o||e[46]!==d||e[47]!==L||e[48]!==m?(Le=h=>{h.stopPropagation(),h.preventDefault(),h.ctrlKey?d(k=>{k.has(n.id)?k.delete(n.id):k.add(n.id)}):h.shiftKey?d(k=>{if(k.size>0){let s;s=Number.NaN;let b;b=Number.NaN;const R=m.get(Qe).lyricLines;R.forEach((C,G)=>{k.has(C.id)&&(Number.isNaN(s)&&(s=G),Number.isNaN(b)&&(b=G),s=Math.min(s,G,o),b=Math.max(b,G,o))});for(let C=s;C<=b;C++)k.add(R[C].id)}else k.add(n.id)}):(d(k=>{(!k.has(n.id)||k.size!==1)&&(k.clear(),k.add(n.id))}),L(dn))},e[44]=n.id,e[45]=o,e[46]=d,e[47]=L,e[48]=m,e[49]=Le):Le=e[49];let He;e[50]===Symbol.for("react.memo_cache_sentinel")?(He={minWidth:"2em"},e[50]=He):He=e[50];let me;e[51]!==o?(me=u.jsx(it,{style:He,align:"center",color:"gray",children:o}),e[51]=o,e[52]=me):me=e[52];let Se;e[53]!==n.isBG?(Se=n.isBG&&u.jsx(tr,{color:"#4466FF"}),e[53]=n.isBG,e[54]=Se):Se=e[54];let te;e[55]!==n.isDuet?(te=n.isDuet&&u.jsx(er,{color:"#44AA33"}),e[55]=n.isDuet,e[56]=te):te=e[56];let Ie;e[57]!==me||e[58]!==Se||e[59]!==te?(Ie=u.jsxs(Ue,{direction:"column",align:"center",justify:"center",ml:"3",children:[me,Se,te]}),e[57]=me,e[58]=Se,e[59]=te,e[60]=Ie):Ie=e[60];const _e=a===le.Edit&&v.edit,Ae=a===le.Sync&&v.sync;let he;e[61]!==_e||e[62]!==Ae?(he=ze(v.lyricLineContainer,_e,Ae),e[61]=_e,e[62]=Ae,e[63]=he):he=e[63];const ke=a===le.Edit&&v.edit,Ge=a===le.Sync&&v.sync;let Re;e[64]!==ke||e[65]!==Ge?(Re=ze(v.lyricWordsContainer,ke,Ge),e[64]=ke,e[65]=Ge,e[66]=Re):Re=e[66];let we;if(e[67]!==_||e[68]!==x||e[69]!==n||e[70]!==o||e[71]!==T){let h;e[73]!==_||e[74]!==x||e[75]!==n||e[76]!==o?(h=(k,s)=>u.jsxs(K.Fragment,{children:[x&&u.jsx(It,{size:"1",variant:"soft",onClick:b=>{b.preventDefault(),b.stopPropagation(),_(R=>{R.lyricLines[o].words.splice(s,0,ct())})},children:u.jsx(ut,{})}),u.jsx(on,{wordAtom:k,wordIndex:s,line:n,lineIndex:o})]},`word-${k}-${s}`),e[73]=_,e[74]=x,e[75]=n,e[76]=o,e[77]=h):h=e[77],we=T.map(h),e[67]=_,e[68]=x,e[69]=n,e[70]=o,e[71]=T,e[72]=we}else we=e[72];let de;e[78]!==_||e[79]!==x||e[80]!==o?(de=x&&u.jsx(It,{size:"1",variant:"soft",onClick:h=>{h.preventDefault(),h.stopPropagation(),_(k=>{k.lyricLines[o].words.push(ct())})},children:u.jsx(ut,{})}),e[78]=_,e[79]=x,e[80]=o,e[81]=de):de=e[81];let be;e[82]!==_||e[83]!==o||e[84]!==a||e[85]!==T.length?(be=a===le.Edit&&u.jsx(Ft,{placeholder:"\u63D2\u5165\u5355\u8BCD\u2026",className:ze(v.insertWordField,T.length===0&&v.empty),style:{alignSelf:"center"},onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),h.stopPropagation(),_(k=>{k.lyricLines[o].words.push({...ct(),word:h.currentTarget.value})}),h.currentTarget.value="")}}),e[82]=_,e[83]=o,e[84]=a,e[85]=T.length,e[86]=be):be=e[86];let ce;e[87]!==Re||e[88]!==we||e[89]!==de||e[90]!==be?(ce=u.jsxs("div",{className:Re,ref:E,children:[we,de,be]}),e[87]=Re,e[88]=we,e[89]=de,e[90]=be,e[91]=ce):ce=e[91];let je;e[92]!==r||e[93]!==o||e[94]!==a?(je=a===le.Edit&&u.jsxs(u.Fragment,{children:[u.jsx($t,{lineAtom:r,lineIndex:o,type:"translatedLyric"}),u.jsx($t,{lineAtom:r,lineIndex:o,type:"romanLyric"})]}),e[92]=r,e[93]=o,e[94]=a,e[95]=je):je=e[95];let Te;e[96]!==he||e[97]!==ce||e[98]!==je?(Te=u.jsxs("div",{className:he,ref:E,children:[ce,je]}),e[96]=he,e[97]=ce,e[98]=je,e[99]=Te):Te=e[99];let N;e[100]!==x||e[101]!==a?(N=a===le.Edit&&u.jsx(Ue,{p:"3",children:u.jsx(It,{size:"1",variant:x?"solid":"soft",onClick:h=>{h.preventDefault(),h.stopPropagation(),V(un)},children:u.jsx(ut,{})})}),e[100]=x,e[101]=a,e[102]=N):N=e[102];let J;e[103]!==n.endTime||e[104]!==n.startTime||e[105]!==a?(J=a===le.Sync&&u.jsxs(Ue,{pr:"3",gap:"1",direction:"column",align:"stretch",children:[u.jsx("div",{className:v.startTime,ref:D,children:dt(n.startTime)}),u.jsx("div",{className:v.endTime,ref:$,children:dt(n.endTime)})]}),e[103]=n.endTime,e[104]=n.startTime,e[105]=a,e[106]=J):J=e[106];let Me;e[107]!==Ie||e[108]!==Te||e[109]!==N||e[110]!==J?(Me=u.jsxs("div",{children:[Ie,Te,N,J]}),e[107]=Ie,e[108]=Te,e[109]=N,e[110]=J,e[111]=Me):Me=e[111];let Pe;e[112]!==w||e[113]!==ue||e[114]!==i||e[115]!==ee||e[116]!==U||e[117]!==se||e[118]!==Le||e[119]!==Me?(Pe=u.jsx(Ue,{mx:"2",my:"1",direction:"row",className:w,align:"center",gapX:"4",draggable:ue,onDragStart:i,onDragEnd:ee,onDragOver:U,onDrop:se,onDragLeave:an,onClick:Le,asChild:!0,children:Me}),e[112]=w,e[113]=ue,e[114]=i,e[115]=ee,e[116]=U,e[117]=se,e[118]=Le,e[119]=Me,e[120]=Pe):Pe=e[120];let pe;e[121]!==_||e[122]!==x||e[123]!==o?(pe=x&&u.jsx(St,{mx:"2",my:"1",variant:"soft",size:"1",style:{width:"calc(100% - var(--space-4))"},onClick:()=>{_(h=>{h.lyricLines.splice(o+1,0,Xt())}),V(!1)},children:"\u5728\u6B64\u63D2\u5165\u65B0\u884C"}),e[121]=_,e[122]=x,e[123]=o,e[124]=pe):pe=e[124];let De;return e[125]!==B||e[126]!==H||e[127]!==Pe||e[128]!==pe?(De=u.jsxs(u.Fragment,{children:[B,H,Pe,pe]}),e[125]=B,e[126]=H,e[127]=Pe,e[128]=pe,e[129]=De):De=e[129],De});function an(t){t.currentTarget.classList.remove(v.dropTop),t.currentTarget.classList.remove(v.dropBottom)}function dn(t){t.size!==0&&t.clear()}function un(t){return!t}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}},globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Lt=globalThis.jotaiAtomCache.get("/home/runner/work/amll-ttml-tool/amll-ttml-tool/src/components/LyricLinesView/index.tsx/lyricLinesOnlyAtom",Ut(Nr(Qe,t=>t.prop("lyricLines"))));Lt.debugLabel="lyricLinesOnlyAtom",Lt.debugLabel="lyricLinesOnlyAtom",Rt=K.forwardRef((t,e)=>{const r=Q(Lt),o=K.useRef(null),n=K.useRef(null),d=Q(at),l=K.useMemo(()=>ve(c=>{if(d!==le.Sync)return;const f=n.current;if(!f||!f.parentElement)return;const S=c(Oe);let I=Number.NaN,T=0;for(const A of r){const L=c(A);if(S.has(L.id)){I=T;break}T++}if(!Number.isNaN(I))return I}),[r,d]),g=Q(l);return K.useEffect(()=>{if(g===void 0)return;const c=n.current;if(!c)return;const f=c.parentElement;f&&o.current?.scrollToIndex({index:g,offset:f.clientHeight/-2+50})},[g]),K.useImperativeHandle(e,()=>n.current,[]),r.length===0?u.jsxs(Ue,{flexGrow:"1",gap:"2",align:"center",justify:"center",direction:"column",height:"100%",ref:e,children:[u.jsx(it,{color:"gray",children:"\u6CA1\u6709\u6B4C\u8BCD\u884C"}),u.jsx(it,{color:"gray",children:"\u5728\u9876\u90E8\u9762\u677F\u4E2D\u6DFB\u52A0\u65B0\u6B4C\u8BCD\u884C\u6216\u4ECE\u83DC\u5355\u680F\u6253\u5F00 / \u5BFC\u5165\u5DF2\u6709\u6B4C\u8BCD"})]}):u.jsx(_n,{flexGrow:"1",style:{padding:d===le.Sync?"20vh 0":void 0,maxHeight:"100%",overflowY:"auto"},ref:n,children:u.jsx(Mr.ViewportList,{overscan:10,items:r,ref:o,viewportRef:n,children:(c,f)=>u.jsx(cn,{lineAtom:c,lineIndex:f},`${c}`)})})})});export{Rt as LyricLinesView,An as __tla,Rt as default};
